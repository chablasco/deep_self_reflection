<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>CB Deep Self-Reflections</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 100%;
        }
        #p5-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <div id="p5-container"></div>
    <script>
        let sentences;
        let font;
        let img;
        let index = 0;

        function preload() {
            // Assuming these assets are hosted at your server, correct paths as necessary
            sentences = loadStrings('assets/paragraph.txt');  // Text file containing sentences
            font = loadFont('assets/Junicode.ttf');           // Custom font file
            img = loadImage('assets/pic2.jpg');               // Background image
        }

        function setup() {
            let canvas = createCanvas(windowWidth, windowHeight);
            canvas.parent('p5-container');
            frameRate(10);
            imageMode(CENTER);
            textFont(font);
            textSize(105);
            textAlign(CENTER, CENTER);
        }

        function draw() {
            background(255); // Clear the screen to white every frame
            translate(width / 2, height / 2);
            image(img, 0, 0, width, img.height * width / img.width); // Resize and keep aspect ratio

            fill(0); // Black color for text
            let sentence = sentences[index];
            text(sentence, 0, 0, width * 0.8, height); // Draw centered text

            if (frameCount % 90 === 0) {
                index = (index + 1) % sentences.length; // Cycle through sentences
            }
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
        }
    </script>
</body>
</html>
